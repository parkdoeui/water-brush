{"version":3,"sources":["js/utils.js","js/controls.js","js/main.js"],"names":["add","v1","v2","x","y","limit","min","max","setMag","num","sub","decay","nx","ny","rate","getRandom","Math","floor","random","map","value","low1","high1","low2","high2","buttonGroup","document","getElementById","panel","settings","getElementsByClassName","buttonClose","addEventListener","status","style","visibility","opacity","width","canvas","ctx","getContext","window","innerWidth","height","innerHeight","particles","palette","red","id","range","startPoint","green","blue","rainbow","brushConfig","size","density","color","scatter","trails","spawnRange","mouse","pmouse","colorCounter","mousePressed","querySelectorAll","r","e","target","className","length","s","setPalleteColor","p","classList","remove","clientX","clientY","touches","preventDefault","generateParticles","densityCap","i","parseInt","push","Particle","shift","renderParticles","update","draw","animate","fillStyle","fillRect","requestAnimationFrame","m","pm","position","targetPosition","velocity","col","sin","PI","topSpeed","f","accl","maggedAccl","beginPath","arc","fill"],"mappings":"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EEhBJ,AFgBgB,CEhB/B;ADiCQ0B,AChCR,AFgBI,ICgBIA,AChCFW,GAAG,EDgCI,ADhBF,CCgBGL,AChCFI,KDgCJ,CAAYD,AChCF,CAACG,IDgCX,GAAoB,GChChB,CAAkB,GDgCtB,CChCI,CAAZ;ADiCK,AChCLF,AFeanC,IAAAA,CAAC,CEfR,CAACkC,AFeSpC,EAAE,CAACE,CAAH,CEfhB,EFeuBD,CEfRuC,CFeU,CAACtC,CAAf,GEfU,CAACuC,UAAtB;ADiCC,AChCDJ,AFc6BlC,CCE7B,GDF6BA,CAAC,CEdxB,CAACuC,AFcyB1C,EAAE,CAACG,CAAH,EEdhC,CFcuCF,EEdvBuC,AFcyB,CAACrC,KEdpB,CAACwC,WAAvB;AAEA,AFYW,GAAP,CEZEC,SAAS,GAAG,EAAlB;AAEA,AFWC,CAFM,GETDC,OAAO,GAAG;AACZC,EAAAA,GAAG,EAAE;AACDC,AFWD,IEXCA,AFWKrC,EEXH,EAAE,CFWM,IEZT,eFYY,SAARA,KAAQ,CAACV,EAAD,EAAQ;AEVrBgD,AFWJ,IEXIA,EFWErC,EAAE,CEXC,EAAE,AFWAX,EEbN,AFaQ,CAACE,CAAH,GAAO,CAAP,GAAW,CAAX,GAAe,CAAC,CAA3B;AEVI+C,AFWJ,IEXIA,EFWErC,EAAE,GAAGZ,EAAE,CEXC,AFWAG,CAAH,CEXK,EFWE,CAAP,GAAW,CAAX,GAAe,CAAC,CAA3B;AEdK,AFeL,GEhBY,GFgBNU,IAAI,GAAG,KAAb;AEVAqC,AFWA,EEXAA,KAAK,EAAE,AFWA;AEVHH,AFUK7C,IEVL6C,AFUK7C,CAAC,CEVJ,CFUMF,CEVJ,CFUM,CAACE,CAAH,GAAOW,CEXZ,GFWgB,GAAGF,EAAnB;AETHqC,AFS0B7C,IET1B6C,AFS0B7C,CAAC,EAAEH,EETxB,AFS0B,CAACG,CETzB,AFSsB,EEX1B,CFWiCU,IAAI,GAAGD;AER3CqC,AFQG,GAAP,CERIA,UAAU,EAAE;AAHT,AFYV,CALM,EEbS;AAWZE,EAAAA,IAAI,EAAE;AACFJ,AFQD,IERCA,AFQKjC,EERH,EAAE,KFQU,CETZ,sBFSe,SAAZA,SAAY,CAACT,GAAD,EAAMC,GAAN,EAAc;AEP/B0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","file":"main.fb6bbcaf.js","sourceRoot":"../src","sourcesContent":["export const add = (v1, v2) => {\n    return { x: v1.x + v2.x, y: v1.y + v2.y }\n}\n\nexport const limit = (v1, limit) => {\n\n    const min = limit * -1\n    const max = limit * 1;\n\n    return {\n        x: v1.x > max ? max : v1.x < min ? min : v1.x,\n        y: v1.y > max ? max : v1.y < min ? min : v1.y,\n    }\n}\n\nexport const setMag = (v1, num) => {\n    return { x: v1.x * num, y: v1.y * num }\n}\n\nexport const sub = (v1, v2) => {\n    return { x: v1.x - v2.x, y: v1.y - v2.y }\n}\n\nexport const decay = (v1) => {\n    const nx = v1.x > 0 ? 1 : -1;\n    const ny = v1.y > 0 ? 1 : -1;\n    const rate = 0.006;\n    return { x: v1.x - rate * nx, y: v1.y - rate * ny }\n}\n\nexport const getRandom = (min, max) => {\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport const map = (value, low1, high1, low2, high2) => {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}","const buttonGroup = document.getElementById(\"button-group\");\nconst panel = document.getElementById('panel')\nconst settings = document.getElementsByClassName(\"button settings\")[0]\nconst buttonClose = document.getElementsByClassName(\"button close\")[0];\n\nsettings.addEventListener('click', function () {\n    \n    const status = panel.style.visibility;\n    if (status === 'hidden' || status === \"\") {\n        panel.style.visibility = 'visible';\n        panel.style.opacity = 1;\n        panel.style.width = '250px';\n        buttonGroup.style.visibility = 'hidden';\n    }\n    else {\n        panel.style.visibility = 'hidden';\n        panel.style.opacity = 0;\n        panel.style.width = '220px';\n        buttonGroup.style.visibility = 'visible';\n    }\n})\n\nbuttonClose.addEventListener('click', function () {\n    \n    const status = buttonGroup.style.visibility\n\n    if (status === 'hidden' || status === \"\") {\n        buttonGroup.style.visibility = 'visible';\n        panel.style.visibility = 'hidden';\n        panel.style.opacity = 0;\n        panel.style.width = '220px';\n    }\n    else {\n        buttonGroup.style.visibility = 'hidden';\n        panel.style.visibility = 'visible';\n        panel.style.opacity = 1;\n        panel.style.width = '250px';\n    }\n})","import { add, limit, setMag, sub, decay, getRandom, map } from './utils';\nimport './controls';\n\nconst canvas = document.getElementById('canvas')\nconst ctx = canvas.getContext('2d');\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nconst particles = [];\n\nconst palette = {\n    red: {\n        id: 'red',\n        range: 45,\n        startPoint: 305,\n    },\n    green: {\n        id: 'green',\n        range: 45,\n        startPoint: 65,\n    },\n    blue: {\n        id: 'blue',\n        range: 45,\n        startPoint: 185,\n    },\n    rainbow: {\n        id: 'rainbow',\n        range: 360,\n        startPoint: 0,\n    },\n}\n\nlet brushConfig = {\n    size: 30,\n    density: 3,\n    color: palette[\"blue\"],\n    scatter: 2,\n    trails: 300,\n}\n\nlet spawnRange = brushConfig.size * brushConfig.scatter * 0.7;\n\nlet mouse = {\n    x: null,\n    y: null,\n}\n\nlet pmouse = {\n    x: null,\n    y: null,\n}\n\nlet colorCounter = 0;\n\nlet mousePressed = false;\n\nfor (const r of document.querySelectorAll(\".button\")) {\n    r.addEventListener(\"click\", function (e) {\n        if (e.target.className === 'button reset') {\n            particles.length = 0;\n        }\n    })\n}\n\nfor (const s of document.querySelectorAll(\".slider\")) {\n    s.addEventListener(\"change\", function (e) {\n        brushConfig[e.target.id] = e.target.value;\n        if (e.target.id === 'scatter') {\n            spawnRange = brushConfig.size * brushConfig.scatter * 0.7;\n        }\n    });\n}\n\nconst setPalleteColor = () => {\n    for (const p of document.querySelectorAll(\".palette\")) {\n        if (p.id === brushConfig.color.id) {\n            p.classList.add('active');\n        } else {\n            p.classList.remove('active');\n        }\n    }\n}\n\nfor (const p of document.querySelectorAll(\".palette\")) {\n    p.addEventListener(\"click\", function (e) {\n        brushConfig.color = palette[e.target.id];\n        setPalleteColor();\n    });\n}\n\nwindow.addEventListener('resize', function () {\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n});\n\ncanvas.addEventListener('mousemove', function (e) {\n    pmouse = { ...mouse }\n    mouse.x = e.clientX;\n    mouse.y = e.clientY;\n})\n\ncanvas.addEventListener('touchmove', function (e) {\n    pmouse = { ...mouse }\n    mouse.x = e.touches[0].clientX;\n    mouse.y = e.touches[0].clientY;\n    if (e.target == canvas) {\n        e.preventDefault();\n    }\n})\n\ncanvas.addEventListener('mousedown', function () {\n    mousePressed = true;\n})\n\ncanvas.addEventListener('touchstart', function (e) {\n    mousePressed = true;\n    if (e.target == canvas) {\n        e.preventDefault();\n    }\n})\n\ncanvas.addEventListener('mouseup', function () {\n    mousePressed = false;\n})\n\ncanvas.addEventListener('touchend', function (e) {\n    mousePressed = false;\n    if (e.target == canvas) {\n        e.preventDefault();\n    }\n})\n\nconst generateParticles = () => {\n    if (mousePressed) {\n        const densityCap = map(brushConfig.size, 20, 80, 8, 1)\n\n        for (let i = 0; i < Math.min(parseInt(densityCap), brushConfig.density); i++) {\n            particles.push(new Particle(mouse, pmouse))\n        }\n        colorCounter += 0.01;\n    }\n    if (particles.length > brushConfig.trails) {\n        particles.shift();\n        particles.shift();\n        particles.shift();\n    }\n}\n\nconst renderParticles = () => {\n    for (const i in particles) {\n        particles[i].update();\n        particles[i].draw();\n    }\n}\n\nconst animate = () => {\n    ctx.fillStyle = '#fff';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    generateParticles();\n    renderParticles();\n    requestAnimationFrame(animate);\n\n}\n\nclass Particle {\n    constructor(m, pm) {\n        this.position = {\n            x: getRandom(pm.x - spawnRange, pm.x + spawnRange),\n            y: getRandom(pm.y - spawnRange, pm.y + spawnRange),\n        }\n\n        this.targetPosition = {\n            x: getRandom(m.x - spawnRange, m.x + spawnRange),\n            y: getRandom(m.y - spawnRange, m.y + spawnRange),\n        }\n        this.velocity = {\n            x: 0.0,\n            y: 0.0,\n\n        }\n        this.col = 'hsla(' + (Math.sin(colorCounter % Math.PI) * brushConfig.color.range + brushConfig.color.startPoint) + ',70%, 35%, 1.0)';\n        this.topSpeed = 1;\n        this.size = Math.random() * brushConfig.size + 15;\n        this.f = 0;\n    }\n\n\n    update() {\n        const accl = sub(this.targetPosition, this.position);\n        const maggedAccl = setMag(accl, 0.005);\n        this.velocity = add(maggedAccl, this.velocity);\n        this.velocity = decay(this.velocity);\n        this.velocity = limit(this.velocity, this.topSpeed);\n        this.position = add(this.velocity, this.position);\n    }\n\n    draw() {\n        ctx.fillStyle = this.col;\n        ctx.beginPath();\n        ctx.arc(this.position.x, this.position.y, this.size, 0, Math.PI * 2);\n        ctx.fill();\n    }\n}\n\nanimate();\n"]}